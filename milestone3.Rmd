---
title: "Group Project"
author: "T11_Wed_reprex"
output: 
  bookdown::html_document2: default
  bookdown::pdf_document2: default
  fig_caption: yes
  toc: yes
keep_md: TRUE
---


# Data Description
The data we have chosen for this project is the Australian Road Deaths Database (ARDD) provided by the Australian Bureau of Infrastructure and Transport Research Economics (BITRE). The records are updated monthly from 1986 to 2021. Here is the link to the database : https://data.gov.au/dataset/ds-dga-5b530fb8-526e-4fbf-b0f6-aa24e84e4277/details. 

There are two data files. The fatality data contains the demographic and details of people who have died within 30 days of the traffic accident due to injuries caused by an Australia road crash. The fatal crashes data contains the records for the crash, including information like the road type, and speed limit. The two data files can be connected by the crash ID. See Appendix for more detailed descriptions of each variable. 


# Research Questions:
Q1: What demographic has a higher rate of traffic accidents?

Q2: Ranking of vehicle types by number of accidents

Q3: How does the car accident fatality link with the district and accident type? 

Q4: Is there any correlation between accidents and holiday? And why are some explanations for the relation(s) or lack thereof.

Q5 :Has accident rate decreased or increased within the past decade (2010- 2020)? 

Q6: Possible correlations between number of fatalities and speed limit zone 


```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE, message = FALSE, warning = FALSE)
```


```{r libraries, echo=FALSE}
# Loading package tidyverse:
library(tidyverse)
library(naniar)
library(ggplot2)
library(kableExtra)
```


```{r}
# read tidy data
fatalcrashes <- read.csv(here::here("data/cleaned_fatalcrashes.csv"))
fatalities <- read.csv(here::here("data/cleaned_fatalities.csv"))
```

# Data Analysis

## Q1:What demographic has a higher rate of road accidents or fatal crashes?
+ sex as a factor in accident
+ Age as a factor in accident

```{r setup}
library(tidyverse)
library(ggplot2)
library(readr)
```

```{r Reading-data}
fatalities_new <- read.csv(here::here("data/cleaned_fatalities.csv"))
```

```{r setting-data}

accidents <- fatalities_new %>% 
  filter(!is.na(Gender)) %>% 
  select( "Gender", "Age.Group") %>% 
  group_by( Age.Group) %>% 
  count(Gender, Age.Group) %>% 
  rename(`Total no. of accidents` = n)

head(accidents)
```


```{r Graph1, Q1Fig1, fig.cap= "Australian road deaths database and fatal crashes, by age and gender", fig.show="hold" }
graph1 <- ggplot(data = accidents, aes(x = Age.Group,
                             y = `Total no. of accidents`, 
                             fill = Gender)) +
  geom_bar(stat="identity", position = "dodge") +
  scale_fill_brewer(palette = "Pastel2")+
  theme_classic() +
  xlab("Age Group") +
  ylab("Total number of Accidents") 


graph1
``` 

+ The Australian Road Deaths Database provides basic details of road transport crash fatalities in Australia as reported by the police each month to the State and Territory road safety authorities.
+ Road deaths from recent months are preliminary and the series is subject to revision.
+ The above graph \@ref(fig:Q1Fig1) explains, what demographic has a higher rate of traffic accidents considering **Age.Group** and **Gender** as a factor.
+ The age group between **40 to 64** in both the genders, had the maximum risk of fatal crash involvements compared to the rest of the age groups. 
+ **Male** drivers compared to **Female** for the same age group have the highest rate of road accidents i.e. more than **3000** fatal crashes. Hence, Male drivers between age group **40 t0 64** are more susceptible to the fatal crash involvement.    
 



## Q2:Which road user is more prone to accident over the year?

```{r, setting-data-roaduser}
accidents1 <- fatalities_new %>% 
  mutate(Year = as.factor(Year)) %>% 
  select("Year", "Road.User") %>% 
  filter(Road.User %in% c("Driver", "Motorcycle pillion passenger", "Motorcycle rider", "Passenger", "Pedal cyclist", "Pedestrian")) %>% 
  group_by(Road.User, Year) %>% 
  count(Road.User) %>% 
  rename(`Accident Total count` = n)

head(accidents1)

```


```{r Graph2, Q2Fig2, fig.cap= "Australian road deaths database and fatal crashes, by age and gender", fig.show="hold" ,fig.width=5}
graph2 <- ggplot(accidents1, aes(x = Year, 
                 y = `Accident Total count`)) +
  geom_jitter(position = position_jitter(width = 0.5), aes(color = factor(Road.User)), size = 1.5, alpha = 5) +
  facet_wrap(Road.User~.) +
  theme(axis.text.x = element_text(size =10)) +
  theme_dark() +
  xlab("Year") +
  ylab("Total number of Accidents")

graph2

```

+ This analysis is with respect to the vulnerable Road Users who are prone to road accidents over the years in Australia. 
+ According the above graph \@ref(fig:Q2Fig2), **Driver** is one of the most vulnerable road user prone to accident through-out the years.
+ In **2010** and **2016** driver experienced the peak where there were maximum number of casualties. 
+ Along with that even **Pedestrian**, **Passenger** and **Motorcycle rider** are among the second most vulnerable road user, prone to accident. 
+ The number of casualties for **Motorcycle rider** and **Pedestrian** has mostly been constant through-out the years from **2010 till 2020** 
+ The casualties for **Passenger** shows a slight decrease over the years. 



##Q3:


##Q4:


##Q5:


##Q6:
